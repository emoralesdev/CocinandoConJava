<!DOCTYPE html>
<html th:replace="~{_global :: plantilla(~{::title}, ~{::main})}"
	xmlns:th="https://www.thymeleaf.org">
<title>Cocinando Con Java</title>
<main class="p-4">
	<div class="container">
		<h1>Registro Receta</h1>	
		
		<form id="recetaform" enctype="multipart/form-data"  th:action="@{/registro}" method="post" th:object="${receta}">
			<div class="mb-3">
		    	<div th:replace="~{_fragmentos :: labelInput('Nombre', 'nombre', 'text')}"></div>
			</div>
			<div class="mb-3">
		    	<div th:replace="~{_fragmentos :: labelInput('Descripcion', 'descripcion', 'text')}"></div>
			</div>
			<div class="mb-3">
				<div class="row mb-3">
					<label for="contenidoHtml" class="col-sm-2 col-form-label">Contenido</label>
					<div id="editor"></div>
					<input type="hidden" id="contenidoHtml" th:field="*{contenidoHtml}">
		    	</div>
			</div>
		    
		    <div class="mb-3">
		    	<div th:replace="~{_fragmentos :: labelSelectTextoValor('Dificultad', 'dificultad', ${dificultades}, 'dificultad', 'id')}"></div>
		    </div>
		    <div class="mb-3">
		    	<input type="file" name="file"/>
		    </div>
		    <button type="submit" class="btn btn-primary">Registrar Receta</button>
		</form>
	</div>
	<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
	<script>
    var quill = new Quill('#editor', { theme: 'snow' });

    document.querySelector('form').onsubmit = function () {
        document.querySelector('#contenidoHtml').value = quill.root.innerHTML;
    };
</script>
</main>

